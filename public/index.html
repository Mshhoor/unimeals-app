<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ููุตุฉ ูุฌุจุชู - ุชุจุงุฏู ุงููุฌุจุงุช ุงูุฌุงูุนูุฉ</title>
  <link rel="stylesheet" href="style.css">
  
  <!-- Socket.IO -->
  <script src="/socket.io/socket.io.js"></script>
</head>
<body>
  <!-- Theme Toggle Button -->
  <button class="theme-toggle" onclick="toggleTheme()" title="ุชุจุฏูู ุงููุถุน">
    <span id="themeIcon">๐</span>
  </button>

  <header>
    <h1>๐ฝ๏ธ ููุตุฉ ูุฌุจุชู</h1>
    <p>ููุตุฉ ุขููุฉ ููุชุทูุฑุฉ ูุชุจุงุฏู ูุฌุจุงุช ุงููุทุนู ูุน ูุธุงู ุงูุชูููู ูุงูุชุญูู ุงููุชูุฏู</p>
  </header>

  <!-- Auth Section (Login/Register) -->
  <div class="container" id="authSection">
    <div class="auth-tabs">
      <button class="auth-tab-btn active" onclick="showAuthTab('signin')">ุชุณุฌูู ุงูุฏุฎูู</button>
      <button class="auth-tab-btn" onclick="showAuthTab('signup')">ุฅูุดุงุก ุญุณุงุจ</button>
    </div>

    <!-- Sign In Form -->
    <div id="signin-tab" class="auth-tab-content active">
      <div class="section-header">
        <h2>ุชุณุฌูู ุงูุฏุฎูู</h2>
        <p>ุฃุฏุฎู ุจูุงูุงุช ุญุณุงุจู ูููุตูู ุฅูู ุงูููุตุฉ</p>
      </div>
      
      <form id="signinForm">
        <div class="form-group">
          <label for="signinEmail">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:</label>
          <input type="email" id="signinEmail" placeholder="example@gmail.com" required>
        </div>

        <div class="form-group">
          <label for="signinPassword">ูููุฉ ุงููุฑูุฑ:</label>
          <input type="password" id="signinPassword" placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ" required>
        </div>

        <div style="text-align: center; margin-top: 2rem;">
          <button type="submit" class="btn btn-success">๐ ุชุณุฌูู ุงูุฏุฎูู</button>
        </div>
      </form>
    </div>

    <!-- Sign Up Form -->
    <div id="signup-tab" class="auth-tab-content">
      <div class="section-header">
        <h2>ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ</h2>
        <p>ุงูุถู ุฅูู ููุตุฉ ูุฌุจุชู ูุงุจุฏุฃ ูู ุชุจุงุฏู ุงููุฌุจุงุช</p>
      </div>
      
      <form id="signupForm">
        <div class="form-group">
          <label for="signupUsername">ุงุณู ุงููุณุชุฎุฏู:</label>
          <input type="text" id="signupUsername" placeholder="ูุซุงู: ุฃุญูุฏ_ูุญูุฏ" required>
        </div>

        <div class="form-group">
          <label for="signupEmail">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:</label>
          <input type="email" id="signupEmail" placeholder="example@gmail.com" required>
        </div>

        <div class="form-group">
          <label for="signupPassword">ูููุฉ ุงููุฑูุฑ:</label>
          <input type="password" id="signupPassword" placeholder="6 ุฃุญุฑู ุนูู ุงูุฃูู" minlength="6" required>
        </div>

        <div class="form-group">
          <label for="confirmPassword">ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ:</label>
          <input type="password" id="confirmPassword" placeholder="ุฃุนุฏ ุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ" required>
        </div>

        <div style="text-align: center; margin-top: 2rem;">
          <button type="submit" class="btn btn-success">โจ ุฅูุดุงุก ุงูุญุณุงุจ</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Phone Setup Modal -->
  <div id="phoneSetupModal" class="verification-modal">
    <div class="verification-content">
      <h2 class="verification-header">๐ฑ ุฅุถุงูุฉ ุฑูู ุงูุฌูุงู</h2>
      <p class="verification-description">
        ูุชุชููู ูู ุจูุน ุงููุฌุจุงุชุ ูุฑุฌู ุฅุถุงูุฉ ุฑูู ุฌูุงูู ููุชูุงุตู ูุน ุงููุดุชุฑูู
      </p>
      
      <div class="verification-info">
        <strong>๐ ููุงุฐุง ูุญุชุงุฌ ุฑูู ุงูุฌูุงูุ</strong><br>
        โข ููุชูุงุตู ูุน ุงููุดุชุฑูู ุนุจุฑ ูุงุชุณุงุจ<br>
        โข ูุฅุฑุณุงู ุชูุงุตูู ุงูุญุฌูุฒุงุช<br>
        โข ูุถูุงู ุงูุชูุงุตู ุงูุณุฑูุน ูุงูุขูู<br>
      </div>
      
      <input 
        type="tel" 
        id="phoneSetupInput" 
        class="phone-input"
        placeholder="05XXXXXXXX" 
        maxlength="10"
      />
      
      <div id="phoneSetupError" class="verification-error"></div>
      
      <button class="btn btn-success" id="savePhoneBtn" onclick="savePhoneNumber()">
        ๐พ ุญูุธ ุฑูู ุงูุฌูุงู
      </button>
      
      <button class="btn btn-secondary" onclick="skipPhoneSetup()">
        โญ๏ธ ุชุฎุทู ุงูุขู
      </button>
    </div>
  </div>

  <!-- Role Selection Section -->
  <div class="container hidden" id="roleSelection">
    <div class="user-info">
      <div class="welcome-message">
        <h3>ูุฑุญุจุงูุ <span id="usernameDisplay"></span>! ๐</h3>
        <p>ุงุฎุชุฑ ูุง ุชุฑูุฏ ุงูููุงู ุจู ุงูููู</p>
        <div class="user-actions">
          <button class="btn btn-secondary btn-small" onclick="showProfile()">โ๏ธ ุงูููู ุงูุดุฎุตู</button>
          <button class="btn btn-danger btn-small" onclick="signOut()">๐ช ุชุณุฌูู ุงูุฎุฑูุฌ</button>
        </div>
      </div>
    </div>
    
    <div class="role-cards">
      <div class="role-card" onclick="showSeller()">
        <div class="role-icon">๐ฐ</div>
        <div class="role-title">ุฃูุง ุจุงุฆุน</div>
        <div class="role-description">ุฃุฑูุฏ ุจูุน ูุฌุจุชู ุงูุฌุงูุนูุฉ ูุฅุฏุงุฑุฉ ุทูุจุงุช ุงูุญุฌุฒ ุจุฃูุงู</div>
      </div>
      
      <div class="role-card" onclick="showBuyer()">
        <div class="role-icon">๐</div>
        <div class="role-title">ุฃูุง ูุดุชุฑู</div>
        <div class="role-description">ุฃุฑูุฏ ุดุฑุงุก ูุฌุจุฉ ูู ุจุงุฆุน ููุซูู ููููู ุจุฃูุงู</div>
      </div>
    </div>
  </div>

  <!-- User Profile Modal -->
  <div id="profileModal" class="modal">
    <div class="modal-content">
      <h3 style="margin-bottom: 1rem; color: #667eea;">ุงูููู ุงูุดุฎุตู</h3>
      
      <div class="profile-info">
        <div class="info-item">
          <strong>ุงุณู ุงููุณุชุฎุฏู:</strong>
          <span id="profileUsername">-</span>
        </div>
        <div class="info-item">
          <strong>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:</strong>
          <span id="profileEmail">-</span>
        </div>
        <div class="info-item">
          <strong>ุฑูู ุงูุฌูุงู:</strong>
          <span id="profilePhone">ุบูุฑ ูุถุงู</span>
        </div>
      </div>

      <div class="action-buttons">
        <button class="btn btn-contact" onclick="showAddPhoneModal()">๐ฑ ุฅุถุงูุฉ/ุชุญุฏูุซ ุงูุฌูุงู</button>
        <button class="btn btn-secondary" onclick="closeProfileModal()">ุฅุบูุงู</button>
      </div>
    </div>
  </div>

  <!-- Seller Section -->
  <div class="container hidden" id="sellerSection">
    <!-- Dashboard Tabs -->
    <div class="dashboard-tabs">
      <button class="tab-btn active" onclick="showTab(event, 'add-meal')">โ ุฅุถุงูุฉ ูุฌุจุฉ</button>
      <button class="tab-btn" onclick="showTab(event, 'manage-orders')">๐ ุฅุฏุงุฑุฉ ุงูุทูุจุงุช</button>
      <button class="tab-btn" onclick="showTab(event, 'my-meals')">๐ฝ๏ธ ูุฌุจุงุชู</button>
      <button class="tab-btn" onclick="showTab(event, 'notifications')">๐ ุงูุฅุดุนุงุฑุงุช</button>
    </div>

    <!-- Add Meal Tab -->
    <div id="add-meal-tab" class="tab-content">
      <div class="section-header">
        <h2>ูุดุฑ ุนุฑุถ ูุฌุจุฉ ุฌุฏูุฏ</h2>
        <p>ุฃุถู ุชูุงุตูู ูุฌุจุชู ูุงุญุตู ุนูู ุชููููุงุช ูู ุงููุดุชุฑูู</p>
      </div>
      
      <form id="offerForm">
        <div class="form-group">
          <label for="mealType">ููุน ุงููุฌุจุฉ:</label>
          <select id="mealType">
            <option value="ูุทูุฑ">๐ ูุทูุฑ</option>
            <option value="ุบุฏุงุก">โ๏ธ ุบุฏุงุก</option>
            <option value="ุนุดุงุก">๐ ุนุดุงุก</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="mealPrice">ุงูุณุนุฑ ุงููุทููุจ (ุฑูุงู):</label>
          <input type="number" id="mealPrice" placeholder="ูุซุงู: 3" min="0.5" step="0.5" required>
        </div>
        
        <div class="form-group">
          <label for="mealDetails">ุชูุงุตูู ุงููุฌุจุฉ:</label>
          <textarea id="mealDetails" placeholder="ูุซุงู: ูุฌุจุฉ ูุทูุฑ ููู ุงูุงุญุฏ 9 ููููู ..." rows="3" style="resize: vertical;"></textarea>
        </div>
        
        <div style="text-align: center; margin-top: 2rem;">
          <button type="submit" class="btn btn-success">โจ ูุดุฑ ุงูุนุฑุถ</button>
        </div>
      </form>
    </div>

    <!-- Manage Orders Tab -->
    <div id="manage-orders-tab" class="tab-content hidden">
      <div class="section-header">
        <h2>ุฅุฏุงุฑุฉ ุทูุจุงุช ุงูุญุฌุฒ</h2>
        <p>ุฑุงุฌุน ูุงุนุชูุฏ ุฃู ุงุฑูุถ ุทูุจุงุช ุญุฌุฒ ูุฌุจุงุชู</p>
      </div>
      
      <div id="reservationsList">
        <div class="empty-state">
          <div class="empty-state-icon">๐ญ</div>
          <h3>ูุง ุชูุฌุฏ ุทูุจุงุช ุญุฌุฒ</h3>
          <p>ุณุชุธูุฑ ููุง ุทูุจุงุช ุงูุญุฌุฒ ุงูุฌุฏูุฏุฉ ููุฌุจุงุชู</p>
        </div>
      </div>
    </div>

    <!-- My Meals Tab -->
    <div id="my-meals-tab" class="tab-content hidden">
      <div class="section-header">
        <h2>ูุฌุจุงุชู ุงูููุดูุฑุฉ</h2>
        <p>ุชุตูุญ ุฌููุน ุงููุฌุจุงุช ุงูุชู ูุดุฑุชูุง ูุญุงูุชูุง</p>
      </div>
      
      <div id="sellerOffers">
        <div class="empty-state">
          <div class="empty-state-icon">๐ฝ๏ธ</div>
          <h3>ูู ุชูุดุฑ ุฃู ูุฌุจุงุช ุจุนุฏ</h3>
          <p>ุงุจุฏุฃ ุจุฅุถุงูุฉ ูุฌุจุฉ ูู ุชุจููุจ "ุฅุถุงูุฉ ูุฌุจุฉ"</p>
        </div>
      </div>
    </div>

    <!-- Notifications Tab -->
    <div id="notifications-tab" class="tab-content hidden">
      <div class="section-header">
        <h2>ุงูุฅุดุนุงุฑุงุช</h2>
        <p>ุชุงุจุน ุขุฎุฑ ุงูุชุญุฏูุซุงุช ูุทูุจุงุช ุงูุญุฌุฒ</p>
      </div>
      
      <div id="notificationsList">
        <div class="empty-state">
          <div class="empty-state-icon">๐</div>
          <h3>ูุง ุชูุฌุฏ ุฅุดุนุงุฑุงุช</h3>
          <p>ุณุชุธูุฑ ููุง ุงูุฅุดุนุงุฑุงุช ุงูุฌุฏูุฏุฉ</p>
        </div>
      </div>
    </div>

    <div style="text-align: center; margin-top: 2rem;">
      <button class="btn btn-secondary" onclick="goHome()">๐ ุฑุฌูุน ููุฑุฆูุณูุฉ</button>
    </div>
  </div>

  <!-- Buyer Section -->
  <div class="container hidden" id="buyerSection">
    <div class="section-header">
      <h2>ุงููุฌุจุงุช ุงููุชุงุญุฉ ููุดุฑุงุก</h2>
      <p>ุชุตูุญ ุงูุนุฑูุถ ุงููุชุงุญุฉ ูู ุงูุจุงุฆุนูู ุงูููุซูููู</p>
    </div>
    
    <div id="offersList"></div>
    
    <div style="text-align: center; margin-top: 2rem;">
      <button class="btn btn-secondary" onclick="goHome()">๐ ุฑุฌูุน ููุฑุฆูุณูุฉ</button>
    </div>
  </div>

  <!-- Rating Modal -->
  <div id="ratingModal" class="modal">
    <div class="modal-content">
      <h3 style="margin-bottom: 1rem; color: #667eea;">ููู ุชุฌุฑุจุชู ูุน ุงูุจุงุฆุน</h3>
      <p style="margin-bottom: 1.5rem; color: #718096;">ุณุงุนุฏ ุงูุขุฎุฑูู ุจุงุฎุชูุงุฑ ุงูุจุงุฆุน ุงูููุงุณุจ</p>
      <div class="rating-stars" id="ratingStars">
        <span data-rating="1">โญ</span>
        <span data-rating="2">โญ</span>
        <span data-rating="3">โญ</span>
        <span data-rating="4">โญ</span>
        <span data-rating="5">โญ</span>
      </div>
      <p style="margin-bottom: 2rem; font-size: 1.1rem; font-weight: 600;" id="ratingText">ุงุฎุชุฑ ุงูุชูููู</p>
      <div class="action-buttons">
        <button class="btn btn-success" onclick="submitRating()">ุชุฃููุฏ ุงูุชูููู</button>
        <button class="btn btn-secondary" onclick="closeRatingModal()">ุฅูุบุงุก</button>
      </div>
    </div>
  </div>

  <!-- Loading Overlay -->
  <div id="loadingOverlay" class="loading-overlay hidden">
    <div class="loading-spinner"></div>
    <p>ุฌุงุฑู ุงูุชุญููู...</p>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-icon">โ๏ธ</div>
      <div class="footer-text">
        <p>ูุฐู ุงูููุตุฉ ุบูุฑ ุฑุณููุฉุ ุตูููุช ุจุงุฌุชูุงุฏ ุทูุงุจ ุงูุฌุงูุนุฉ</p>
        <p>ูุฏููุง ุงูุญุฏ ูู ูุฏุฑ ุงููุฌุจุงุช ููุทุ ุชุฃูุฏ ูู ุชูุงุตูู ุงูุญุฌุฒ ูุจู ุงูุฏูุน ุฃู ุงูุงุณุชูุงู.</p>
      </div>
    </div>
  </footer>

  <script src="script.js"></script>
</body>
</html>