<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุจูุน ูุดุฑุงุก ูุฌุจุงุช - ูุน ุงูุชุญูู ุงูุขูู</title>
  <link rel="stylesheet" href="style.css">
  
  <!-- Socket.IO -->
  <script src="/socket.io/socket.io.js"></script>
</head>
<body>
  <!-- Theme Toggle Button -->
  <button class="theme-toggle" onclick="toggleTheme()" title="ุชุจุฏูู ุงููุถุน">
    <span id="themeIcon">๐</span>
  </button>

  <header>
    <h1>๐ฝ๏ธ ููุตุฉ ูุฌุจุชู</h1>
    <p>ููุตุฉ ุขููุฉ ููุชุทูุฑุฉ ูุชุจุงุฏู ูุฌุจุงุช ุงููุทุนู ูุน ูุธุงู ุงูุชูููู ูุงูุชุญูู ุงููุชูุฏู</p>
  </header>

  <!-- Role Selection Section -->
  <div class="container" id="roleSelection">
    <div class="section-header">
      <h2>ูุฑุญุจุงู ุจู ูู ููุตุฉ ุชุจุงุฏู ุงููุฌุจุงุช ุงููุชุทูุฑุฉ</h2>
      <p>ุงุฎุชุฑ ุฏูุฑู ููุจุฏุก ูู ุงุณุชุฎุฏุงู ุงูููุตุฉ ุงูุฌุฏูุฏุฉ ูุงููุญุณูุฉ ูุน ูุธุงู ุงูุญูุงูุฉ ุงููุชูุฏู</p>
    </div>
    
    <div class="role-cards">
      <div class="role-card" onclick="showSeller()">
        <div class="role-icon">๐ฐ</div>
        <div class="role-title">ุฃูุง ุจุงุฆุน</div>
        <div class="role-description">ุฃุฑูุฏ ุจูุน ูุฌุจุชู ุงูุฌุงูุนูุฉ ูุฅุฏุงุฑุฉ ุทูุจุงุช ุงูุญุฌุฒ ุจุฃูุงู</div>
      </div>
      
      <div class="role-card" onclick="showBuyer()">
        <div class="role-icon">๐</div>
        <div class="role-title">ุฃูุง ูุดุชุฑู</div>
        <div class="role-description">ุฃุฑูุฏ ุดุฑุงุก ูุฌุจุฉ ูู ุจุงุฆุน ููุซูู ููููู ุจุฃูุงู</div>
      </div>
    </div>
  </div>

  <!-- Seller Section -->
  <div class="container hidden" id="sellerSection">
    <!-- Dashboard Tabs -->
    <div class="dashboard-tabs">
      <button class="tab-btn active" onclick="showTab(event, 'add-meal')">โ ุฅุถุงูุฉ ูุฌุจุฉ</button>
      <button class="tab-btn" onclick="showTab(event, 'manage-orders')">๐ ุฅุฏุงุฑุฉ ุงูุทูุจุงุช</button>
      <button class="tab-btn" onclick="showTab(event, 'my-meals')">๐ฝ๏ธ ูุฌุจุงุชู</button>
      <button class="tab-btn" onclick="showTab(event, 'notifications')">๐ ุงูุฅุดุนุงุฑุงุช</button>
    </div>

    <!-- Add Meal Tab -->
    <div id="add-meal-tab" class="tab-content">
      <div class="section-header">
        <h2>ูุดุฑ ุนุฑุถ ูุฌุจุฉ ุฌุฏูุฏ</h2>
        <p>ุฃุถู ุชูุงุตูู ูุฌุจุชู ูุงุญุตู ุนูู ุชููููุงุช ูู ุงููุดุชุฑูู</p>
      </div>
      
      <form id="offerForm">
        <div class="form-group">
          <label for="sellerName">ุงุณู ุงูุจุงุฆุน:</label>
          <input type="text" id="sellerName" placeholder="ูุซุงู: ุฃุญูุฏ ูุญูุฏ" required>
        </div>

        <div class="form-group">
          <label for="mealType">ููุน ุงููุฌุจุฉ:</label>
          <select id="mealType">
            <option value="ูุทูุฑ">๐ ูุทูุฑ</option>
            <option value="ุบุฏุงุก">โ๏ธ ุบุฏุงุก</option>
            <option value="ุนุดุงุก">๐ ุนุดุงุก</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="mealPrice">ุงูุณุนุฑ ุงููุทููุจ (ุฑูุงู):</label>
          <input type="number" id="mealPrice" placeholder="ูุซุงู: 3" min="0.5" step="0.5" required>
        </div>
        
        <div class="form-group">
          <label for="mealDetails">ุชูุงุตูู ุงููุฌุจุฉ:</label>
          <textarea id="mealDetails" placeholder="ูุซุงู: ูุฌุจุฉ ูุทูุฑ ููู ุงูุงุญุฏ 9 ููููู ..." rows="3" style="resize: vertical;"></textarea>
        </div>
        
        <div style="text-align: center; margin-top: 2rem;">
          <button type="submit" class="btn btn-success">โจ ูุดุฑ ุงูุนุฑุถ</button>
        </div>
      </form>
    </div>

    <!-- Manage Orders Tab -->
    <div id="manage-orders-tab" class="tab-content hidden">
      <div class="section-header">
        <h2>ุฅุฏุงุฑุฉ ุทูุจุงุช ุงูุญุฌุฒ</h2>
        <p>ุฑุงุฌุน ูุงุนุชูุฏ ุฃู ุงุฑูุถ ุทูุจุงุช ุญุฌุฒ ูุฌุจุงุชู</p>
      </div>
      
      <div id="reservationsList">
        <div class="empty-state">
          <div class="empty-state-icon">๐ญ</div>
          <h3>ูุง ุชูุฌุฏ ุทูุจุงุช ุญุฌุฒ</h3>
          <p>ุณุชุธูุฑ ููุง ุทูุจุงุช ุงูุญุฌุฒ ุงูุฌุฏูุฏุฉ ููุฌุจุงุชู</p>
        </div>
      </div>
    </div>

    <!-- My Meals Tab -->
    <div id="my-meals-tab" class="tab-content hidden">
      <div class="section-header">
        <h2>ูุฌุจุงุชู ุงูููุดูุฑุฉ</h2>
        <p>ุชุตูุญ ุฌููุน ุงููุฌุจุงุช ุงูุชู ูุดุฑุชูุง ูุญุงูุชูุง</p>
      </div>
      
      <div id="sellerOffers">
        <div class="empty-state">
          <div class="empty-state-icon">๐ฝ๏ธ</div>
          <h3>ูู ุชูุดุฑ ุฃู ูุฌุจุงุช ุจุนุฏ</h3>
          <p>ุงุจุฏุฃ ุจุฅุถุงูุฉ ูุฌุจุฉ ูู ุชุจููุจ "ุฅุถุงูุฉ ูุฌุจุฉ"</p>
        </div>
      </div>
    </div>

    <!-- Notifications Tab -->
    <div id="notifications-tab" class="tab-content hidden">
      <div class="section-header">
        <h2>ุงูุฅุดุนุงุฑุงุช</h2>
        <p>ุชุงุจุน ุขุฎุฑ ุงูุชุญุฏูุซุงุช ูุทูุจุงุช ุงูุญุฌุฒ</p>
      </div>
      
      <div id="notificationsList">
        <div class="empty-state">
          <div class="empty-state-icon">๐</div>
          <h3>ูุง ุชูุฌุฏ ุฅุดุนุงุฑุงุช</h3>
          <p>ุณุชุธูุฑ ููุง ุงูุฅุดุนุงุฑุงุช ุงูุฌุฏูุฏุฉ</p>
        </div>
      </div>
    </div>

    <div style="text-align: center; margin-top: 2rem;">
      <button class="btn btn-secondary" onclick="goHome()">๐ ุฑุฌูุน ููุฑุฆูุณูุฉ</button>
    </div>
  </div>

  <!-- Buyer Section -->
  <div class="container hidden" id="buyerSection">
    <div class="section-header">
      <h2>ุงููุฌุจุงุช ุงููุชุงุญุฉ ููุดุฑุงุก</h2>
      <p>ุชุตูุญ ุงูุนุฑูุถ ุงููุชุงุญุฉ ูู ุงูุจุงุฆุนูู ุงูููุซูููู</p>
    </div>
    
    <div id="offersList"></div>
    
    <div style="text-align: center; margin-top: 2rem;">
      <button class="btn btn-secondary" onclick="goHome()">๐ ุฑุฌูุน ููุฑุฆูุณูุฉ</button>
    </div>
  </div>

  <!-- Phone Verification Modal -->
  <div id="phoneVerificationModal" class="verification-modal">
    <div class="verification-content">
      <!-- ุฎุทูุฉ 1: ุฅุฏุฎุงู ุฑูู ุงูุฌูุงู -->
      <div class="verification-step active" id="verifyStep1">
        <h2 class="verification-header">๐ ุงูุชุญูู ุงูุขูู ูู ุงูุฌูุงู</h2>
        <p class="verification-description">
          ูุถูุงู ุงูุฃูุงู ูุญูุงูุฉ ุจูุงูุงุชูุ ูุฑุฌู ุงูุชุญูู ูู ุฑูู ุฌูุงูู ุฃููุงู
        </p>
        
        <div class="verification-info">
          <strong>๐ฑ ููุงุฐุง ูุญุชุงุฌ ุงูุชุญููุ</strong><br>
          โข ุญูุงูุฉ ุญุณุงุจู ูู ุงูุงุณุชุฎุฏุงู ุบูุฑ ุงููุตุฑุญ<br>
          โข ุถูุงู ูุตูู ุงูุฅุดุนุงุฑุงุช ุงููููุฉ ุฅููู<br>
          โข ุชุฃููู ูุนุงููุงุชู ุงููุงููุฉ<br>
        </div>
        
        <input 
          type="tel" 
          id="verifyPhoneInput" 
          class="phone-input"
          placeholder="05XXXXXXXX" 
          maxlength="10"
        />
        
        <div id="verifyError1" class="verification-error"></div>
        
        <button class="btn btn-success" id="sendVerifyCodeBtn" onclick="sendVerificationCode()">
          ๐ฑ ุฅุฑุณุงู ููุฏ ุงูุชุญูู
        </button>
        
        <button class="btn btn-secondary" onclick="closeVerificationModal()">
          โ ุฅูุบุงุก
        </button>
      </div>
      
      <!-- ุฎุทูุฉ 2: ุฅุฏุฎุงู ุงูููุฏ -->
      <div class="verification-step" id="verifyStep2">
        <h2 class="verification-header">๐ ุฅุฏุฎุงู ููุฏ ุงูุชุญูู</h2>
        <p class="verification-description">
          ุชู ุฅุฑุณุงู ููุฏ ุงูุชุญูู ุงููููู ูู 6 ุฃุฑูุงู ุฅูู:
        </p>
        
        <div class="phone-display" id="verifiedPhoneDisplay">
          +966XXXXXXXXX
        </div>
        
        <input 
          type="text" 
          id="verifyCodeInput" 
          class="code-input"
          placeholder="โ โ โ โ โ โ" 
          maxlength="6"
        />
        
        <div id="verifyError2" class="verification-error"></div>
        
        <button class="btn btn-success" id="confirmVerifyCodeBtn" onclick="verifyCode()">
          โ ุชุญูู ูู ุงูููุฏ
        </button>
        
        <div id="resendCountdown" class="countdown-timer"></div>
        
        <button class="btn btn-warning" id="resendCodeBtn" onclick="resendCode()" disabled>
          ๐ ุฅุฑุณุงู ุงูููุฏ ูุฑุฉ ุฃุฎุฑู
        </button>
        
        <button class="btn btn-secondary" onclick="goToVerifyStep1()">
          ๐ ุชุบููุฑ ุฑูู ุงูุฌูุงู
        </button>
      </div>
      
      <!-- ุฎุทูุฉ 3: ูุฌุญ ุงูุชุญูู -->
      <div class="verification-step" id="verifyStep3">
        <div class="verification-success">
          <div class="success-icon">โ</div>
          <h2 class="verification-header" style="color: #48bb78;">
            ุชู ุงูุชุญูู ุจูุฌุงุญ! ๐
          </h2>
          <p class="verification-description" style="color: #48bb78;">
            ุชู ุงูุชุญูู ูู ุฑูู ุฌูุงูู ุจูุฌุงุญ ูุชู ุญูุธู ุจุฃูุงู.<br>
            ููููู ุงูุขู ุงููุตูู ุฅูู ุฌููุน ุงูููุฒุงุช ุงููุชูุฏูุฉ ูู ุงูููุตุฉ.
          </p>
          
          <div class="verification-info" style="border-right-color: #48bb78;">
            <strong>๐ก๏ธ ุชู ุชุฃููู ุญุณุงุจู ุจูุฌุงุญ</strong><br>
            โข ุฑูู ุฌูุงูู ูุญูู ููุดูุฑ<br>
            โข ุณุชุญุตู ุนูู ุฅุดุนุงุฑุงุช ูููุฉ<br>
            โข ููููู ุงูุขู ุฅุฏุงุฑุฉ ุทูุจุงุชู ุจุฃูุงู<br>
          </div>
          
          <button class="btn btn-success" onclick="proceedAfterVerification()">
            ๐ ูุชุงุจุนุฉ ุฅูู ุงูููุตุฉ
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Rating Modal -->
  <div id="ratingModal" class="modal">
    <div class="modal-content">
      <h3 style="margin-bottom: 1rem; color: #667eea;">ููู ุชุฌุฑุจุชู ูุน ุงูุจุงุฆุน</h3>
      <p style="margin-bottom: 1.5rem; color: #718096;">ุณุงุนุฏ ุงูุขุฎุฑูู ุจุงุฎุชูุงุฑ ุงูุจุงุฆุน ุงูููุงุณุจ</p>
      <div class="rating-stars" id="ratingStars">
        <span data-rating="1">โญ</span>
        <span data-rating="2">โญ</span>
        <span data-rating="3">โญ</span>
        <span data-rating="4">โญ</span>
        <span data-rating="5">โญ</span>
      </div>
      <p style="margin-bottom: 2rem; font-size: 1.1rem; font-weight: 600;" id="ratingText">ุงุฎุชุฑ ุงูุชูููู</p>
      <div class="action-buttons">
        <button class="btn btn-success" onclick="submitRating()">ุชุฃููุฏ ุงูุชูููู</button>
        <button class="btn btn-secondary" onclick="closeRatingModal()">ุฅูุบุงุก</button>
      </div>
    </div>
  </div>

  <!-- Loading Overlay -->
  <div id="loadingOverlay" class="loading-overlay hidden">
    <div class="loading-spinner"></div>
    <p>ุฌุงุฑู ุงูุชุญููู...</p>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-icon">โ๏ธ</div>
      <div class="footer-text">
        <p>ูุฐู ุงูููุตุฉ ุบูุฑ ุฑุณููุฉุ ุตูููุช ุจุงุฌุชูุงุฏ ุทูุงุจ ุงูุฌุงูุนุฉ</p>
        <p>ูุฏููุง ุงูุญุฏ ูู ูุฏุฑ ุงููุฌุจุงุช ููุทุ ุชุฃูุฏ ูู ุชูุงุตูู ุงูุญุฌุฒ ูุจู ุงูุฏูุน ุฃู ุงูุงุณุชูุงู.</p>
      </div>
    </div>
  </footer>

  <script src="script.js"></script>
</body>
</html>